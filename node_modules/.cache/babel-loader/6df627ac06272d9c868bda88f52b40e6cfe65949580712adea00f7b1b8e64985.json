{"ast":null,"code":"import _objectSpread from\"C:/Users/halib/Downloads/Projects/Final Project/Final Project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./Auth.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setIsAuthenticated,races}=_ref;const navigate=useNavigate();const[formData,setFormData]=useState({email:\"\",password:\"\"});const[error,setError]=useState(\"\");const handleSubmit=e=>{e.preventDefault();const users=JSON.parse(localStorage.getItem(\"users\")||\"[]\");const user=users.find(u=>u.email===formData.email&&u.password===formData.password);if(user){// Update authentication state and user data\nlocalStorage.setItem(\"currentUser\",JSON.stringify(user));setIsAuthenticated(true);// Immediate navigation to dashboard with races data\nnavigate(\"/dashboard\",{state:{races},replace:true});}else{setError(\"Invalid email or password\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"auth-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome Back\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","setIsAuthenticated","races","navigate","formData","setFormData","email","password","error","setError","handleSubmit","e","preventDefault","users","JSON","parse","localStorage","getItem","user","find","u","setItem","stringify","state","replace","className","children","onSubmit","type","placeholder","value","onChange","_objectSpread","target","required"],"sources":["C:/Users/halib/Downloads/Projects/Final Project/Final Project/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Auth.css\";\r\n\r\nconst Login = ({ setIsAuthenticated, races }) => {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\r\n    const user = users.find(\r\n      (u) => u.email === formData.email && u.password === formData.password\r\n    );\r\n\r\n    if (user) {\r\n      // Update authentication state and user data\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n      setIsAuthenticated(true);\r\n\r\n      // Immediate navigation to dashboard with races data\r\n      navigate(\"/dashboard\", {\r\n        state: { races },\r\n        replace: true,\r\n      });\r\n    } else {\r\n      setError(\"Invalid email or password\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-container\">\r\n      <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n        <h2>Welcome Back</h2>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={formData.email}\r\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={formData.password}\r\n          onChange={(e) =>\r\n            setFormData({ ...formData, password: e.target.value })\r\n          }\r\n          required\r\n        />\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAAmC,IAAlC,CAAEC,kBAAkB,CAAEC,KAAM,CAAC,CAAAF,IAAA,CAC1C,KAAM,CAAAG,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACvCa,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,IAAI,CAAC,CAC/D,KAAM,CAAAC,IAAI,CAAGL,KAAK,CAACM,IAAI,CACpBC,CAAC,EAAKA,CAAC,CAACd,KAAK,GAAKF,QAAQ,CAACE,KAAK,EAAIc,CAAC,CAACb,QAAQ,GAAKH,QAAQ,CAACG,QAC/D,CAAC,CAED,GAAIW,IAAI,CAAE,CACR;AACAF,YAAY,CAACK,OAAO,CAAC,aAAa,CAAEP,IAAI,CAACQ,SAAS,CAACJ,IAAI,CAAC,CAAC,CACzDjB,kBAAkB,CAAC,IAAI,CAAC,CAExB;AACAE,QAAQ,CAAC,YAAY,CAAE,CACrBoB,KAAK,CAAE,CAAErB,KAAM,CAAC,CAChBsB,OAAO,CAAE,IACX,CAAC,CAAC,CACJ,CAAC,IAAM,CACLf,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CACF,CAAC,CAED,mBACEb,IAAA,QAAK6B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B5B,KAAA,SAAM2B,SAAS,CAAC,WAAW,CAACE,QAAQ,CAAEjB,YAAa,CAAAgB,QAAA,eACjD9B,IAAA,OAAA8B,QAAA,CAAI,cAAY,CAAI,CAAC,CACpBlB,KAAK,eAAIZ,IAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAElB,KAAK,CAAM,CAAC,cACtDZ,IAAA,UACEgC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE1B,QAAQ,CAACE,KAAM,CACtByB,QAAQ,CAAGpB,CAAC,EAAKN,WAAW,CAAA2B,aAAA,CAAAA,aAAA,IAAM5B,QAAQ,MAAEE,KAAK,CAAEK,CAAC,CAACsB,MAAM,CAACH,KAAK,EAAE,CAAE,CACrEI,QAAQ,MACT,CAAC,cACFtC,IAAA,UACEgC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE1B,QAAQ,CAACG,QAAS,CACzBwB,QAAQ,CAAGpB,CAAC,EACVN,WAAW,CAAA2B,aAAA,CAAAA,aAAA,IAAM5B,QAAQ,MAAEG,QAAQ,CAAEI,CAAC,CAACsB,MAAM,CAACH,KAAK,EAAE,CACtD,CACDI,QAAQ,MACT,CAAC,cACFtC,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChC,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}